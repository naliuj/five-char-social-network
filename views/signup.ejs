<!DOCTYPE html>
<html>
<%- include('./header.ejs') %>
<body>
<div class="container">
	<div class="col-sm-6 col-sm-offset-3">
		
		<h1><span class="fa fa-sign-in"></span> Signup</h1>

		<!-- show any messages that come back with authentication !-->
		<% if (message.length > 0) { %>
			<div class="alert alert-danger"><%= message %></div>
		<% }; %>

		<!-- SIGNUP FORM !-->
		<form action="/signup" method="post">
			<div class="form-group">
				<label for="username">Username</label>
				<input type="text" class="form-control" name="username" pattern="\w+" title="Usernames can only contain letters(uppercase and lowercase), numbers, and underscores." required>
			</div>
			<div class="form-group">
				<label for="password">Password</label>
				<input type="password" class="form-control" name="password" id="password" required>
			</div>
			<div class="form-group">
				<label for="confirm">Confirm Password</label>
				<input type="password" class="form-control" name="confirm" oninput="check(this)" required>
			</div>
			<div class="alert alert-danger" hidden="true" id="matchMessage">Passwords Must Match</div>

			<button type="submit" class="btn btn-warning btn-lg">Signup</button>
		</form>
	
		<hr>

		<p>Already have an account? <a href="/login">Login</a></p>
		<p>Or go <a href="/">home</a>.</p>

	</div>
</div>
</body>
<script type="text/javascript">
	function check(input) {
		if (input.value != document.getElementById("password").value) {
			input.setCustomValidity("Password Must Be Matching");
		} else {
			// input is valid -- reset the error message
			input.setCustomValidity('');
		}
	}
</script>
</html>